<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE NeverNote-Export>
<nevernote-export version="0.95" exportType="export" application="NeverNote" applicationVersion="1.6">
    <Note>
        <Guid>48885bff-2e8a-43fc-b0e1-5de6deba6ce2</Guid>
        <UpdateSequenceNumber>14530</UpdateSequenceNumber>
        <Title>10 - API Documentation - 2014</Title>
        <Created>1386365252000</Created>
        <Updated>1392234653000</Updated>
        <Deleted>0</Deleted>
        <Active>true</Active>
        <NotebookGuid>acd53f5e-6aa4-4d58-b2d3-9bb5dc607e63</NotebookGuid>
        <Dirty>false</Dirty>
        <TitleColor>-1</TitleColor>
        <NoteAttributes>
            <Author></Author>
            <Source></Source>
            <SourceApplication></SourceApplication>
            <SourceURL>file:///</SourceURL>
            <Altitude>0.0</Altitude>
            <Longitude>0.0</Longitude>
            <Latitude>0.0</Latitude>
            <SubjectDate>0</SubjectDate>
        </NoteAttributes>
        <Content><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">

<en-note style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 24px;"><span style="font-family: Calibri;"><strong>Test Console</strong></span></div><div><strong style="font-size: 24px;"><span style="font-family: Calibri;"><br clear="none"/></span></strong></div><div><strong><span style="color: #ff0000; font-family: Calibri;">This is an up-to-date form which is designed to send data to various API endpoints, use it with utility like HTTPFox to see each command in action.</span></strong></div><div><strong style="font-size: 24px;"><span style="font-family: Calibri;"><br clear="none"/></span></strong></div><div><a href="https://duaf2014-phase1-local.proximitystore.com/app_dev1.php/debug/new-submission">https://duaf2014-phase1-local.proximitystore.com/app_dev1.php/debug/new-submission</a>&nbsp;</div><div><strong style="font-size: 24px;"><span style="font-family: Calibri;"><strong style="font-size: 24px;"><span style="font-family: Calibri;"><br clear="none"/></span></strong></span></strong></div><div><strong style="font-size: 24px;">Sending a new&nbsp;submission (newsubmissionform)</strong></div><div style="font-size: 16px;"><strong><span style="font-family: Calibri;"><br clear="none"/></span></strong></div><div style="font-size: 16px;">There are two ways of submitting new flavour:</div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;">1. submit with flavour info and user details (first time participant)</div><div style="font-size: 16px;">2. submit flavour info only (repeat participant with previous submission in DUAF database)</div><div style="font-size: 16px;"><strong><span style="font-family: Calibri;"><br clear="none"/></span></strong></div><div style="font-size: 16px;"><span style="font-family: Calibri;">Internally the subumission form is bound to&nbsp;</span><em>FritoLay\FacebookAppBundle\Entity\NewSubmissionEntity</em> which has validation rules specified in&nbsp;<em>FritoLay\FacebookAppBundle\Resources\config\validation.yml</em>. There are 2 validation groups <em>submission</em> and <em>submissionshort</em>, these are controlled by passing&nbsp;<em>hassubmissionform</em> parameter as true or false, <em>submissionshort</em> does less validation, the assumption is that user already has a registration form in the database from previous flavour submissions</div><div style="font-size: 16px;"><strong><span style="font-family: Calibri;"><br clear="none"/></span></strong></div><div style="font-size: 16px;"><span style="font-family: Calibri;"><strong>Route:</strong>&nbsp;</span></div><div style="font-size: 16px;"><span style="font-family: Calibri;"><br clear="none"/></span></div><div>/{_locale}/api/v1/newsubmission</div><div style="font-size: 16px;"><strong><span style="font-family: Calibri;"><br clear="none"/></span></strong></div><div><span style="font-size: 16px; font-family: Courier New;">English: /api/v1/en/newsubmission</span></div><div><span style="font-size: 16px; font-family: Courier New;">French: /api/v1/fr/newsubmission</span></div><div style="font-size: 16px;"><span style="font-size: medium;"><br clear="none"/></span></div><div style="font-size: 16px;"><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top">locale</td><td colspan="1" rowspan="1" valign="top">en|fr</td></tr></tbody></table><div><br clear="none"/></div></div><div style="font-size: 16px;"><span style="font-family: Calibri;"><strong><br clear="none"/></strong></span></div><div style="font-size: 16px;"><span style="font-family: Calibri;"><strong>Method:</strong></span></div><div style="font-size: 16px;"><span style="font-family: Calibri;"><br clear="none"/></span></div><div style="font-size: 16px;">POST</div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;"><strong>Form Data:</strong></div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;">See FritoLay\FacebookAppBundle\Form\NewSubmissionForm and FritoLay\FacebookAppBundle\Entity\NewSubmissionEntity;</div><div style="font-size: 16px;"><div>See FritoLay\FacebookAppBundle\Form\NewSubmissionShortForm and FritoLay\FacebookAppBundle\Entity\NewSubmissionshortEntity;</div></div><div style="font-size: 16px;"><span style="font-family: Calibri;"><br clear="none"/></span></div><div style="font-size: 16px;"><span style="font-family: Calibri;"><strong>Returns:</strong>&nbsp;</span></div><div style="font-size: 16px;"><span style="font-family: Calibri;"><br clear="none"/></span></div><div style="font-size: 16px;"><div><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><strong>Variable</strong></td><td colspan="1" rowspan="1" valign="top"><strong>Description</strong></td><td colspan="1" rowspan="1" valign="top"><strong>Values</strong></td></tr><tr><td colspan="1" rowspan="1" valign="top">status</td><td colspan="1" rowspan="1" valign="top"><br clear="none"/></td><td colspan="1" rowspan="1" valign="top">ok | exception</td></tr><tr><td colspan="1" rowspan="1" valign="top">locale</td><td colspan="1" rowspan="1" valign="top"><br clear="none"/></td><td colspan="1" rowspan="1" valign="top">en | fr</td></tr><tr><td colspan="1" rowspan="1" valign="top">formvalid</td><td colspan="1" rowspan="1" valign="top"><br clear="none"/></td><td colspan="1" rowspan="1" valign="top"><div>true | false</div></td></tr><tr><td colspan="1" rowspan="1" valign="top">formErrors</td><td colspan="1" rowspan="1" valign="top"><br clear="none"/></td><td colspan="1" rowspan="1" valign="top">array</td></tr></tbody></table></div></div><div><br clear="none"/></div><div><strong><span style="color: #ff0000;">Important:</span></strong>&nbsp;this route uses regex for&nbsp;parameter&nbsp;validation so failure to provide specific data will result it route not found exception</div><div style="font-size: 16px;"><span style="font-family: Calibri;"><strong><br clear="none"/></strong></span></div><div style="font-size: 24px;"><span style="font-family: Calibri;"><strong>Getting user Input validated (validateuserinput)</strong></span></div><div style="font-size: 16px;"><span style="font-family: Calibri;"><br clear="none"/></span></div><div style="font-size: 16px;"><div><strong>Route:</strong></div><div><strong><br clear="none"/></strong></div></div><div style="font-size: 16px;">/api/v1/validateuserinput/{command} (command is optional)</div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;">or&nbsp;</div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;">/api/v1/validateuserinput/sendingredients -&gt; if you also want ingredients to be looked up</div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;">or&nbsp;</div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;"><div>/api/v1/validateuserinput/checkflavour -&gt; if you want to also check if flavour name is a duplicate of already existing flavour (a lookup on <em>restrictednames_strict</em> table will be performed). This command will also return ingredients.</div><div><br clear="none"/></div></div><div style="font-size: 16px;"><strong>Method:</strong></div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;">POST</div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;"><strong>Form Data:</strong></div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;"><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><span style="font-size: 16px;">userinput</span></td><td colspan="1" rowspan="1" valign="top"><span style="font-size: 16px;">user input text</span></td><td colspan="1" rowspan="1" valign="top">POST</td></tr></tbody></table><div><br clear="none"/></div></div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;"><strong>Returns:</strong></div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;"><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><strong>Variable</strong></td><td colspan="1" rowspan="1" valign="top"><strong>Description</strong></td><td colspan="1" rowspan="1" valign="top"><strong>Values</strong></td></tr><tr><td colspan="1" rowspan="1" valign="top">status</td><td colspan="1" rowspan="1" valign="top">server side execution status, exception details are logged and not sent back in API output</td><td colspan="1" rowspan="1" valign="top">ok | exception</td></tr><tr><td colspan="1" rowspan="1" valign="top">formvalid</td><td colspan="1" rowspan="1" valign="top">boolean indicatind if form passed validation</td><td colspan="1" rowspan="1" valign="top">true | false</td></tr><tr><td colspan="1" rowspan="1" valign="top">errortype</td><td colspan="1" rowspan="1" valign="top">indicates whether form failed character check of words filter. Words filter is only applied if user submitted text without any prohibited characters. See FritoLay\FacebookAppBundle\Resources\validation.yml for character list under&nbsp;UserInputEntity validations</td><td colspan="1" rowspan="1" valign="top">characterinput |&nbsp;restricted |&nbsp;flavourexists</td></tr><tr><td colspan="1" rowspan="1" valign="top">offendingwords</td><td colspan="1" rowspan="1" valign="top">sends back list of prohibited words that have matched user input</td><td colspan="1" rowspan="1" valign="top">array</td></tr><tr><td colspan="1" rowspan="1" valign="top">offendingwordslevels</td><td colspan="1" rowspan="1" valign="top">indicates what level does each word belong to</td><td colspan="1" rowspan="1" valign="top"><div>array</div></td></tr><tr><td colspan="1" rowspan="1" valign="top">haslevel1</td><td colspan="1" rowspan="1" valign="top">indicates if any profanites were found in submitted words</td><td colspan="1" rowspan="1" valign="top">true | false</td></tr><tr><td colspan="1" rowspan="1" valign="top">haslevel2</td><td colspan="1" rowspan="1" valign="top"><div>indicates if any reserved were found in submitted words e.g. Kettle, Pringles etc.</div></td><td colspan="1" rowspan="1" valign="top">true | false</td></tr><tr><td colspan="1" rowspan="1" valign="top">haslevel3</td><td colspan="1" rowspan="1" valign="top">food allergies e.g. peanuts</td><td colspan="1" rowspan="1" valign="top"><div>true | false</div></td></tr><tr><td colspan="1" rowspan="1" valign="top">haslevel10</td><td colspan="1" rowspan="1" valign="top">existing flavour, to see list of existing flavours see <em>restictednames_strict</em> table</td><td colspan="1" rowspan="1" valign="top"><br clear="none"/></td></tr></tbody></table></div><div><br clear="none"/></div><div style="font-size: 24px;"><strong><br clear="none"/></strong></div><div><span style="text-decoration: line-through;"><br clear="none"/></span></div><div style="font-size: 24px;"><strong>Retrieving a Showdown</strong></div><div><br clear="none"/></div><div><strong>Route</strong></div><div><br clear="none"/></div><div>/api/v1/load_submission_showdown</div><div><br clear="none"/></div><div><strong>Method</strong></div><div><br clear="none"/></div><div>GET</div><div><br clear="none"/></div><div><strong>Returns</strong></div><div><br clear="none"/></div><div><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><strong>Variable</strong></td><td colspan="1" rowspan="1" valign="top"><strong>Description</strong></td><td colspan="1" rowspan="1" valign="top"><strong>Values</strong></td></tr><tr><td colspan="1" rowspan="1" valign="top">status</td><td colspan="1" rowspan="1" valign="top">server side execution status, exception details are logged and not sent back in API output</td><td colspan="1" rowspan="1" valign="top">ok | exception</td></tr><tr><td colspan="1" rowspan="1" valign="top">result</td><td colspan="1" rowspan="1" valign="top">Array containing 2 submissions, following fields are included:<br clear="none"/><ul><li>uid -&gt; 81 -&gt; legacy naming, returns numeric id of the submission as found in the database</li><li>fbid -&gt; facebook id of submission creator</li><li>flavor_name -&gt; name of the flavour</li><li>name -&gt; creator&apos;s first name&nbsp;</li></ul></td><td colspan="1" rowspan="1" valign="top">true | false</td></tr></tbody></table></div><div><br clear="none"/></div><div style="font-size: 24px;"><strong>Saving a showdown result</strong></div><div><br clear="none"/></div><div>This route should be used for all voting, both from showdown and gallery</div><div><br clear="none"/></div><div><strong>Route</strong></div><div><br clear="none"/></div><div>/api/v1/save_showdown/{submission1}/{submission2}/{winner}/{votetype}</div><div><br clear="none"/></div><div><strong><span style="color: #ff0000;">* Please note:</span></strong> all parameters are validated against below regex, improper formats will return 404 errors (based on route not found):</div><div><br clear="none"/></div><div>submission1: \d+<br clear="none"/>
submission2: \d+<br clear="none"/>
votetype:&nbsp;&nbsp;&nbsp; s|v<br clear="none"/>
winner:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \d+</div><div><br clear="none"/></div><div><strong>Method</strong></div><div><br clear="none"/></div><div>GET</div><div><br clear="none"/></div><div><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><div><strong>Variable</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Description</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Values</strong></div></td></tr><tr><td colspan="1" rowspan="1" valign="top"><div>submission1</div></td><td colspan="1" rowspan="1" valign="top">numeric id of the first submission in the showdown</td><td colspan="1" rowspan="1" valign="top">integer</td></tr><tr><td colspan="1" rowspan="1" valign="top"><div>submission2</div></td><td colspan="1" rowspan="1" valign="top"><div>numeric id of the second submission in the showdown</div></td><td colspan="1" rowspan="1" valign="top"><div>integer</div></td></tr><tr><td colspan="1" rowspan="1" valign="top"><div>winner</div></td><td colspan="1" rowspan="1" valign="top">id of the voted-for submission</td><td colspan="1" rowspan="1" valign="top"><div>integer</div></td></tr><tr><td colspan="1" rowspan="1" valign="top">votetype</td><td colspan="1" rowspan="1" valign="top">helps&nbsp;distinguish&nbsp;votes and showdowns</td><td colspan="1" rowspan="1" valign="top">v = vote<br clear="none"/>
s = showdown</td></tr></tbody></table><div><br clear="none"/></div></div><div><strong>Returns</strong></div><div><br clear="none"/></div><div>{&quot;status&quot;:&quot;ok&quot;,&quot;result&quot;:{&quot;winner&quot;:&quot;0.2500&quot;,&quot;looser&quot;:&quot;0.7500&quot;}}</div><div><ul><li>All values are integer where 1.000 = 100%,&nbsp;</li><li>The work &quot;looser&quot; is a misspelling we had to keep it like that for backwards compatibilty</li><li>if this is the first vote ever or we don&apos;t have any data in showdown_summaries table winner will have 1.000 assigned to it and loser will either have the actual number of wins or 0, these are defaults meant to accomodate first votes being cast</li></ul></div><div><br clear="none"/></div><div><div><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><strong>Variable</strong></td><td colspan="1" rowspan="1" valign="top"><strong>Description</strong></td><td colspan="1" rowspan="1" valign="top"><strong>Values</strong></td></tr><tr><td colspan="1" rowspan="1" valign="top">status</td><td colspan="1" rowspan="1" valign="top"><div>server side execution status, exception details are logged and not sent back in API output</div></td><td colspan="1" rowspan="1" valign="top"><div>ok | exception</div></td></tr><tr><td colspan="1" rowspan="1" valign="top">winner</td><td colspan="1" rowspan="1" valign="top">percentage calculation of total wins for the winning flavour</td><td colspan="1" rowspan="1" valign="top">float (1.0 = 100%)</td></tr><tr><td colspan="1" rowspan="1" valign="top">looser</td><td colspan="1" rowspan="1" valign="top"><div>percentage calculation of total wins for the losing flavour (please note original variable name is misspelled)</div></td><td colspan="1" rowspan="1" valign="top"><div>float (1.0 = 100%)</div></td></tr></tbody></table></div><br clear="none"/></div><div>* Above variables are legacy values and approach from the USA app. Ideally the service would return just id&apos;s with counts not winner/looser&nbsp;</div><div><br clear="none"/></div><div style="font-size: 24px;"><strong>Get Gallery</strong></div><div><br clear="none"/></div><div>Pulls data needed for gallery display.</div><div><br clear="none"/></div><div>The random option will return same set of shuffled data each time. When a submission is created it is given a random number which is then used for sorting during calls to gallery with &quot;random&quot; called on it. This functionality may be changed later to something less fixed, however if submission are constantly added the random order sorting will give an impression of randomisation as records will be inserted &quot;in-between&quot; previous entries.</div><div><br clear="none"/></div><div><div><strong>Route</strong></div><div><br clear="none"/></div><div>/api/v1/getgallery/{scope}/{sorttype}/{getgallery_last_id}/{locale}</div><br clear="none"/></div><div><strong>Method</strong></div><div><br clear="none"/></div><div>POST</div><div><br clear="none"/></div><div><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><div><strong>Variable</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Description</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Values</strong></div></td></tr><tr><td colspan="1" rowspan="1" valign="top">scope</td><td colspan="1" rowspan="1" valign="top">who&apos;s submissions to include, when scope is set to <em>language</em> locale param is used to return language specific submission</td><td colspan="1" rowspan="1" valign="top">all|friends|own|language</td></tr><tr><td colspan="1" rowspan="1" valign="top">sorttype</td><td colspan="1" rowspan="1" valign="top">how should them be organised?</td><td colspan="1" rowspan="1" valign="top">popular|recent|random</td></tr><tr><td colspan="1" rowspan="1" valign="top">getgallery_last_id</td><td colspan="1" rowspan="1" valign="top">what was the last id provided in previous data set. Next ID after this one will be the starting id of next data set. We do not paginate using page ranges because submissions are crated very rapidly and we end up with duplicates which break JS. Using last ID method guarantees that we won&apos;t end up with duplicate IDs in HTML<br/><br/><b>To receive the first page send 0 (zero)<br/><br/><font color="#FF4635">In desktop version Gallery Last ID is replace by next_page value provided in JSON, this is used to query for most popular votes which has to be paginated and cannot be ordered by submission ID&nbsp;</font></b></td><td colspan="1" rowspan="1" valign="top">integer</td></tr><tr><td colspan="1" rowspan="1" valign="top">locale</td><td colspan="1" rowspan="1" valign="top">language filtering, this parameter must be sent with all queries, however it is only used if <em>scope</em> param is set to value &quot;language&quot;</td><td colspan="1" rowspan="1" valign="top">en|fr</td></tr><tr><td colspan="1" rowspan="1" valign="top">friends</td><td colspan="1" rowspan="1" valign="top">comma separated list of facebook friends, <strong><span style="text-decoration: underline;">must be sent in POST data</span></strong></td><td colspan="1" rowspan="1" valign="top"><br clear="none"/></td></tr><tr><td colspan="1" rowspan="1" valign="top">mobile</td><td colspan="1" rowspan="1" valign="top">if you pass string value of &quot;true&quot; the controller will use parameter.yml key&nbsp;duaf_gallerysize_mobile, otherwise&nbsp;duaf_gallerysize is used. <span style="text-decoration: underline;"><strong>Must be sent in POST data</strong></span></td><td colspan="1" rowspan="1" valign="top">&quot;true&quot; | &quot;false&quot;</td></tr><tr><td valign="top">flavour_tag</td><td valign="top">id of the trending&nbsp;ingredient&nbsp;you want to filter by, this can me skipped or you can send 0 to ignore</td><td valign="top">empty or 0 or ID of a trending ingredient<br/></td></tr></tbody></table></div><div><br clear="none"/></div><div><strong><span style="color: #ff0000;">This end point expect that friends variable is passed as part of data in POST body in format:</span></strong></div><div><strong><span style="color: #ff0000;"><br clear="none"/></span></strong></div><div><strong><span style="color: #ff0000;">friends=12345,43244,233323</span></strong></div><div><strong><span style="color: #ff0000;"><br clear="none"/></span></strong></div><div><strong><span style="color: #ff0000;">It will double check that each of the values between the commas is an integer. If it is not it will throw an exception.</span></strong></div><div><br clear="none"/></div><div><strong>Returns</strong></div><div><br clear="none"/></div><div>List of submissions in following format</div><div><br clear="none"/></div><div><br clear="none"/><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><strong>Variable</strong></td><td colspan="1" rowspan="1" valign="top"><strong>Description</strong></td><td colspan="1" rowspan="1" valign="top"><strong>Values</strong></td></tr><tr><td colspan="1" rowspan="1" valign="top">status</td><td colspan="1" rowspan="1" valign="top"><div>server side execution status, exception details are logged and not sent back in API output</div></td><td colspan="1" rowspan="1" valign="top"><div>ok | exception</div></td></tr><tr><td colspan="1" rowspan="1" valign="top">result</td><td colspan="1" rowspan="1" valign="top">list of items</td><td colspan="1" rowspan="1" valign="top">array</td></tr><tr><td colspan="1" rowspan="1" valign="top">rowcount</td><td colspan="1" rowspan="1" valign="top"><div>how many rows are included in the &quot;result&quot; array</div></td><td colspan="1" rowspan="1" valign="top"><div>integer</div></td></tr></tbody></table><br clear="none"/></div><div>Each of the result items has following format</div><div><br clear="none"/></div><div style="font-size: 13px;"><span style="font-family: Courier New;">{&quot;uid&quot;:&quot;501&quot;,&quot;fbid&quot;:&quot;1429731672&quot;,&quot;image_dir&quot;:&quot;0&quot;,&quot;type&quot;:&quot;1&quot;,&quot;flavor_name&quot;:&quot;Bolognese Sauce&quot;,&quot;total_votes&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Teresa Jun&quot;,&quot;voter_fbid&quot;:null,&quot;voted&quot;:&quot;0&quot;}</span></div><div><br clear="none"/></div><div>See below for full response example:</div><div><br clear="none"/></div><div style="font-size: 13px;"><span style="font-family: Courier New;">{&quot;status&quot;:&quot;ok&quot;,&quot;result&quot;:[{&quot;uid&quot;:&quot;501&quot;,&quot;fbid&quot;:&quot;1429731672&quot;,&quot;image_dir&quot;:&quot;0&quot;,&quot;type&quot;:&quot;1&quot;,&quot;flavor_name&quot;:&quot;Bolognese Sauce&quot;,&quot;total_votes&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Teresa Jun&quot;,&quot;voter_fbid&quot;:null,&quot;voted&quot;:&quot;0&quot;},{&quot;uid&quot;:&quot;500&quot;,&quot;fbid&quot;:&quot;1514532197&quot;,&quot;image_dir&quot;:&quot;0&quot;,&quot;type&quot;:&quot;1&quot;,&quot;flavor_name&quot;:&quot;Tuna Casserole&quot;,&quot;total_votes&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Jessica Wolff&quot;,&quot;voter_fbid&quot;:null,&quot;voted&quot;:&quot;0&quot;},{&quot;uid&quot;:&quot;499&quot;,&quot;fbid&quot;:&quot;1358163917&quot;,&quot;image_dir&quot;:&quot;0&quot;,&quot;type&quot;:&quot;1&quot;,&quot;flavor_name&quot;:&quot;Pizza&quot;,&quot;total_votes&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Kristen Thrse&quot;,&quot;voter_fbid&quot;:null,&quot;voted&quot;:&quot;0&quot;},{&quot;uid&quot;:&quot;498&quot;,&quot;fbid&quot;:&quot;503449046&quot;,&quot;image_dir&quot;:&quot;0&quot;,&quot;type&quot;:&quot;1&quot;,&quot;flavor_name&quot;:&quot;Jerk Chicken&quot;,&quot;total_votes&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Cally Webster&quot;,&quot;voter_fbid&quot;:null,&quot;voted&quot;:&quot;0&quot;},{&quot;uid&quot;:&quot;497&quot;,&quot;fbid&quot;:&quot;1379307902&quot;,&quot;image_dir&quot;:&quot;0&quot;,&quot;type&quot;:&quot;1&quot;,&quot;flavor_name&quot;:&quot;Collard Greens and Scones&quot;,&quot;total_votes&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Adam Arzoumanian&quot;,&quot;voter_fbid&quot;:null,&quot;voted&quot;:&quot;0&quot;},{&quot;uid&quot;:&quot;496&quot;,&quot;fbid&quot;:&quot;1659087651&quot;,&quot;image_dir&quot;:&quot;0&quot;,&quot;type&quot;:&quot;1&quot;,&quot;flavor_name&quot;:&quot;Kimchi and Relish&quot;,&quot;total_votes&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Ron Williams&quot;,&quot;voter_fbid&quot;:null,&quot;voted&quot;:&quot;0&quot;},{&quot;uid&quot;:&quot;495&quot;,&quot;fbid&quot;:&quot;1797195909&quot;,&quot;image_dir&quot;:&quot;0&quot;,&quot;type&quot;:&quot;1&quot;,&quot;flavor_name&quot;:&quot;Mussels in White Wine&quot;,&quot;total_votes&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Samuel James&quot;,&quot;voter_fbid&quot;:null,&quot;voted&quot;:&quot;0&quot;},{&quot;uid&quot;:&quot;494&quot;,&quot;fbid&quot;:&quot;1096262785&quot;,&quot;image_dir&quot;:&quot;0&quot;,&quot;type&quot;:&quot;1&quot;,&quot;flavor_name&quot;:&quot;Spinach Empanadas&quot;,&quot;total_votes&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Joe Wigsmoen&quot;,&quot;voter_fbid&quot;:null,&quot;voted&quot;:&quot;0&quot;},{&quot;uid&quot;:&quot;493&quot;,&quot;fbid&quot;:&quot;1755031593&quot;,&quot;image_dir&quot;:&quot;0&quot;,&quot;type&quot;:&quot;1&quot;,&quot;flavor_name&quot;:&quot;Bacon Jalapeno Wraps&quot;,&quot;total_votes&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Alexander Aultman&quot;,&quot;voter_fbid&quot;:null,&quot;voted&quot;:&quot;0&quot;}],&quot;rowcount&quot;:9}</span></div><div style="font-size: 13px;"><span style="font-family: Courier New;"><br clear="none"/></span></div><div style="font-size: medium;"><strong style="font-size: 24px;">Get Submission details (used with details modal)</strong></div><div style="font-size: medium;"><strong style="font-size: 24px;"><br clear="none"/></strong></div><div style="font-size: medium;"><div><strong>Route</strong></div><div><br clear="none"/></div><div>/api/v1/load_submission_detail/{submissionid}/{fbid}/{authtoken}</div><br clear="none"/></div><div style="font-size: medium;"><strong>Method</strong></div><div style="font-size: medium;"><br clear="none"/></div><div style="font-size: medium;">POST</div><div style="font-size: medium;"><br clear="none"/></div><div style="font-size: medium;"><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><div><strong>Variable</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Description</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Values</strong></div></td></tr><tr><td colspan="1" rowspan="1" valign="top"><div>submissionid</div></td><td colspan="1" rowspan="1" valign="top"><div>submission id for which votes are to be returned</div></td><td colspan="1" rowspan="1" valign="top">integer</td></tr><tr><td colspan="1" rowspan="1" valign="top">fbid</td><td colspan="1" rowspan="1" valign="top">user&apos;s facebook id</td><td colspan="1" rowspan="1" valign="top"><div>integer</div></td></tr><tr><td colspan="1" rowspan="1" valign="top">authtoken</td><td colspan="1" rowspan="1" valign="top">facebook auth token</td><td colspan="1" rowspan="1" valign="top">&quot;[a-zA-Z0-9]+&quot;</td></tr><tr><td colspan="1" rowspan="1" valign="top">friends</td><td colspan="1" rowspan="1" valign="top">must be sent in POST body as a comma separated list</td><td colspan="1" rowspan="1" valign="top"><br clear="none"/></td></tr></tbody></table></div><div><br clear="none"/></div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: 24px;"><strong>Generating Bag Preview (new for 2014)</strong></div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: medium;"><strong>Route</strong></div><div style="font-size: medium;"><strong><br clear="none"/></strong></div><div style="font-size: 15px;">/social-share-image/{network_name}/{submission_pid}.png</div><div style="font-size: 24px;"><strong><br clear="none"/></strong></div><div style="font-size: medium;"><strong>Method</strong></div><div style="font-size: medium;"><strong><br clear="none"/></strong></div><div style="font-size: 15px;">GET</div><div style="font-size: 15px;"><br clear="none"/></div><div><strong>Post data that must be sent</strong></div><div style="font-size: 15px;"><br clear="none"/><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><div><strong>Variable</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Description</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Values</strong></div></td></tr><tr><td colspan="1" rowspan="1" valign="top">network_name</td><td colspan="1" rowspan="1" valign="top">this determines image dimentions (currently only one type is supported)</td><td colspan="1" rowspan="1" valign="top">facebook</td></tr><tr><td colspan="1" rowspan="1" valign="top">submission_pid</td><td colspan="1" rowspan="1" valign="top">submission parent id</td><td colspan="1" rowspan="1" valign="top"><div>int</div></td></tr></tbody></table><br clear="none"/></div><div style="font-size: 15px;"><div><strong style="font-size: medium;">Returns</strong></div></div><div style="font-size: 15px;"><div><pre xml:space="preserve"><code>{&quot;status&quot;:&quot;ok&quot;,&quot;image_url&quot;:&quot;http:\/\/duaf2014-phase1-local.proximitystore.com\/submissions\/2013-12-06</code><code>\/38_kettle.png?t=1386365523&quot;}</code></pre></div></div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: 15px;"><div style="font-size: 24px;"><b>Get Friend Votes (for submission details face pile)</b></div><div style="font-size: 24px;"><b><br/></b></div><div style="font-size: 24px;"><div style="font-size: medium;"><strong>Route</strong></div><div style="font-size: medium;"><strong><br clear="none"/></strong></div><div style="font-size: 15px;"><div>/api/v1/getfriendvotes/{submissionid}</div></div><div><strong><br clear="none"/></strong></div><div style="font-size: medium;"><strong>Method</strong></div><div style="font-size: medium;"><strong><br clear="none"/></strong></div><div style="font-size: 15px;">POST</div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: medium;"><strong>Post data that must be sent in following format</strong></div><div style="font-size: medium;"><strong><br/></strong></div><div style="font-size: medium;">friends=100004313923056,100007603982592,561326152,556116275,100001691289509,1607107065,100000005997629,1645013366</div><div style="font-size: 15px;"><br clear="none"/><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><div><strong>Variable</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Description</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Values</strong></div></td></tr><tr><td colspan="1" rowspan="1" valign="top"><div>submissionid</div></td><td colspan="1" rowspan="1" valign="top">id of the submission</td><td colspan="1" rowspan="1" valign="top">integer</td></tr></tbody></table><br clear="none"/></div><div style="font-size: 15px;"><div><strong style="font-size: medium;">Returns</strong></div></div><div style="font-size: 15px;"><pre xml:space="preserve"><font face="Calibri">array of friends is who have voted for this submission</font></pre><pre xml:space="preserve"/><pre><code>{&quot;status&quot;:&quot;ok&quot;,&quot;result&quot;:[&quot;561326152&quot;]}</code></pre><br/></div></div></div><div style="font-size: 24px;"><b>Generating Bag image&nbsp;</b></div><div style="font-size: 24px;"><b><br/></b></div><div style="font-size: 24px;"><div style="font-size: medium;"><strong>Route</strong></div><div style="font-size: medium;"><strong><br clear="none"/></strong></div><div style="font-size: 15px;">/generatebag</div><div><strong><br clear="none"/></strong></div><div style="font-size: medium;"><strong>Method</strong></div><div style="font-size: medium;"><strong><br clear="none"/></strong></div><div style="font-size: 15px;">POST</div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: medium;"><strong>Post data that must be sent</strong></div><div style="font-size: 15px;"><br clear="none"/><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><div><strong>Variable</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Description</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Values</strong></div></td></tr><tr><td colspan="1" rowspan="1" valign="top">text</td><td colspan="1" rowspan="1" valign="top"><div>Flavour name. This text will be validated against bad words filter and error 500 will b returned if fails. At this stage, user flavour name has already been vetted so there should be no error, this is a security measure.</div></td><td colspan="1" rowspan="1" valign="top">text</td></tr><tr><td colspan="1" rowspan="1" valign="top">type</td><td colspan="1" rowspan="1" valign="top">classic|kettle|wavy</td><td colspan="1" rowspan="1" valign="top"><div>string</div></td></tr><tr><td colspan="1" rowspan="1" valign="top">dishId</td><td colspan="1" rowspan="1" valign="top">id of the dish as returned by&nbsp;<span style="font-size: 16px;"><em>/api/v1/validateuserinput/sendingredients</em>&nbsp;endpoint</span></td><td colspan="1" rowspan="1" valign="top">integer</td></tr><tr><td colspan="1" rowspan="1" valign="top">ingredient1</td><td colspan="1" rowspan="1" valign="top"><div>id of ingredient as returned by&nbsp;<span style="font-size: 16px;"><em>/api/v1/validateuserinput/sendingredients</em>&nbsp;endpoint</span></div></td><td colspan="1" rowspan="1" valign="top"><div>integer</div></td></tr><tr><td colspan="1" rowspan="1" valign="top">ingredient2</td><td colspan="1" rowspan="1" valign="top"><div>id of ingredient as returned by&nbsp;<span style="font-size: 16px;"><em>/api/v1/validateuserinput/sendingredients</em>&nbsp;endpoint</span></div></td><td colspan="1" rowspan="1" valign="top"><div>integer</div></td></tr><tr><td colspan="1" rowspan="1" valign="top">ingredient3</td><td colspan="1" rowspan="1" valign="top"><div>id of theingredient&nbsp;&nbsp;as returned by&nbsp;<span style="font-size: 16px;"><em>/api/v1/validateuserinput/sendingredients</em>&nbsp;endpoint</span></div></td><td colspan="1" rowspan="1" valign="top"><div>integer</div></td></tr></tbody></table><br clear="none"/></div><div style="font-size: 15px;"><div><strong style="font-size: medium;">Returns</strong></div></div><div style="font-size: 15px;"><pre xml:space="preserve"><code>{&quot;status&quot;:&quot;ok&quot;,&quot;image_url&quot;:&quot;http:\/\/duaf2014-phase1-local.proximitystore.com\/submissions\/2013-12-06</code><code>\/38_kettle.png?t=1386365523&quot;}</code></pre><pre xml:space="preserve"/><div><div style="font-family: Calibri; white-space: normal; font-size: 24px;"><code><b>Generating Combined bag image for social sharing</b></code></div><div style="font-family: Calibri; white-space: normal; font-size: 24px;"><code><b><br/></b></code></div><div style="font-family: Calibri; white-space: normal; font-size: 24px;"><div style="font-size: medium;"><code><strong>Route</strong></code></div><div style="font-size: medium;"><code><strong><br clear="none"/></strong></code></div><div style="font-size: 15px;"><code>/social-share-image/{network_name}/{submission_pid}.png</code></div><div><code><strong><br clear="none"/></strong></code></div><div style="font-size: medium;"><code><strong>Method</strong></code></div><div style="font-size: medium;"><code><strong><br clear="none"/></strong></code></div><div style="font-size: 15px;"><code>GET</code></div><div style="font-size: 15px;"><code><br clear="none"/></code></div><div style="font-size: medium;"><code><strong>Post data that must be sent</strong></code></div><div style="font-size: 15px;"><code><br clear="none"/></code><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><div><strong>Variable</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Description</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Values</strong></div></td></tr><tr><td colspan="1" rowspan="1" valign="top"><div>network_name</div></td><td colspan="1" rowspan="1" valign="top"><div>currently only facebook</div></td><td colspan="1" rowspan="1" valign="top">facebook</td></tr><tr><td colspan="1" rowspan="1" valign="top"><div>submission_pid</div></td><td colspan="1" rowspan="1" valign="top">submission parent id</td><td colspan="1" rowspan="1" valign="top"><div>integer</div></td></tr></tbody></table></div></div><code><br/></code></div><pre>

</pre><pre xml:space="preserve"/><div><div style="font-family: Calibri; white-space: normal; font-size: 24px;"><code><b>Generating Single bag image for social sharing</b></code></div><div style="font-family: Calibri; white-space: normal; font-size: 24px;"><code><b><br/></b></code></div><div style="font-family: Calibri; white-space: normal; font-size: 24px;"><div style="font-size: medium;"><code><strong>Route</strong></code></div><div style="font-size: medium;"><code><strong><br clear="none"/></strong></code></div><div style="font-size: 15px;"><code>/social-share-image-single/{network_name}/{submission_id}.png</code></div><div><code><strong><br clear="none"/></strong></code></div><div style="font-size: medium;"><code><strong>Method</strong></code></div><div style="font-size: medium;"><code><strong><br clear="none"/></strong></code></div><div style="font-size: 15px;"><code>GET</code></div><div style="font-size: 15px;"><code><br clear="none"/></code></div><div style="font-size: medium;"><code><strong>Post data that must be sent</strong></code></div><div style="font-size: 15px;"><code><br clear="none"/></code><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td colspan="1" rowspan="1" valign="top"><div><strong>Variable</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Description</strong></div></td><td colspan="1" rowspan="1" valign="top"><div><strong>Values</strong></div></td></tr><tr><td colspan="1" rowspan="1" valign="top"><div>network_name</div></td><td colspan="1" rowspan="1" valign="top"><div>currently only facebook</div></td><td colspan="1" rowspan="1" valign="top">facebook</td></tr><tr><td colspan="1" rowspan="1" valign="top"><div>submission_id</div></td><td colspan="1" rowspan="1" valign="top">id of the submission <u>NOT PARENT ID</u></td><td colspan="1" rowspan="1" valign="top"><div>integer</div></td></tr></tbody></table></div></div><code><br/></code></div><pre>

</pre><pre xml:space="preserve"><code><code><br/></code></code></pre><pre xml:space="preserve"><code><br/></code></pre><pre xml:space="preserve"><code><br/></code></pre><pre xml:space="preserve"><code><br/></code></pre><pre xml:space="preserve"><br/></pre></div></div></en-note>]]></Content>
    </Note>
    <Notebook>
        <Guid>acd53f5e-6aa4-4d58-b2d3-9bb5dc607e63</Guid>
        <Name>FritoLay - Lays Do Us a Flavour - Phase 1</Name>
        <UpdateSequenceNumber>14124</UpdateSequenceNumber>
        <DefaultNotebook>false</DefaultNotebook>
        <ServiceCreated>1349874246000</ServiceCreated>
        <ServiceUpdated>1349874246000</ServiceUpdated>
        <Local>false</Local>
        <Dirty>false</Dirty>
        <ReadOnly>false</ReadOnly>
        <Stack>FritoLay</Stack>
    </Notebook>
</nevernote-export>
